(this["webpackJsonppoker-poll"]=this["webpackJsonppoker-poll"]||[]).push([[0],{193:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),s=n.n(o),c=(n(90),n(10)),l=n(12),i=n(15),u=n(13),h=(n(91),n(11)),p=n.n(h),m=n(24),f=n(230),d=n(228),v=(n(93),n(231)),b="https://sleepy-brushlands-28308.herokuapp.com",g=function e(){Object(c.a)(this,e)};g.fetchResult=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(b,"/result")));case 1:case"end":return e.stop()}}),e)}))),g.savePoll=function(){var e=Object(m.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(b,"/new"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t,option:n})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var w=g,E=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={phone:"",error:null},e.phoneNumbers={9958831638:"Akash",7503173103:"Ashish",469348052:"Jaison",9899123341:"Raghav",9717824647:"Rajat",9999411237:"Vidur",9953742261:"Divyansh",9716976612:"Abhishek",7842455907:"Phil",9711444506:"Roshan"},e}return Object(l.a)(n,[{key:"checkPhoneNumber",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,a,r,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.phone),!this.phoneNumbers[this.state.phone]){e.next=16;break}return this.setState({error:null}),this.props.showLoader(!0),e.next=6,w.fetchResult();case 6:return t=e.sent,e.next=9,t.json();case 9:n=e.sent,a=n.data,r=a.filter((function(e){return e.userName===o.phoneNumbers[o.state.phone]})).length>0,this.props.showLoader(!1),this.props.onComplete(this.phoneNumbers[this.state.phone],r),e.next=17;break;case 16:this.setState({error:"User not found!"});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.error&&r.a.createElement(v.a,{severity:"error",color:"info"},this.state.error),r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form"},r.a.createElement(f.a,{className:"input-field",id:"outlined-basic",label:"Phone Number",variant:"outlined",onChange:function(t){e.setState({phone:t.target.value})}})),r.a.createElement(d.a,{className:"fab",color:"primary","aria-label":"add",onClick:function(){e.checkPhoneNumber()}},"Go")))}}]),n}(r.a.Component),y=(n(97),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.onOptionChosen=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.showLoader(!0),t.next=3,w.savePoll(e.props.user,n);case 3:t.sent,e.props.showLoader(!1),e.props.onComplete();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"poll-container"},r.a.createElement("h1",null,"Choose a rule ",this.props.user),r.a.createElement("div",{onClick:function(){e.onOptionChosen("Option1")},className:"poll-button"},"Add all games, unless all 4 players vote unanimously to do otherwise."),r.a.createElement("div",{onClick:function(){e.onOptionChosen("Option2")},className:"poll-button border-bottom"},r.a.createElement("p",null,"If Highest point guy gets disconnected then game cancelled."," ",r.a.createElement("br",null),r.a.createElement("br",null),"If anybody else exits then if someone has lead of > 2000 AND boot size >=40 THEN ADD game as it is.")))}}]),n}(a.Component)),O=n(229),j=(n(98),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader"},r.a.createElement(O.a,null)))}}]),n}(a.Component)),k=(n(99),n(76)),C=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showChart:!1,data:{},tableData:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;w.fetchResult().then((function(e){return e.json()})).then((function(t){console.log(t);var n=[0,0],a=[],r=[];t.data.forEach((function(e){"Option1"==e.chosenOption?(n[0]+=1,a.push(e.userName)):"Option2"==e.chosenOption&&(n[1]+=1,r.push(e.userName))}));var o={datasets:[{data:n,backgroundColor:["#3e95cd","#8e5ea2"]}],labels:["Simple","Complicated"]};a.length>r.length?r.length=a.length:a.length=r.length;for(var s=[],c=0;c<a.length;c++)s.push({a:a[c],b:r[c]});e.setState({showChart:!0,data:o,tableData:s})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"result-container"},r.a.createElement("div",null,!this.state.showChart&&r.a.createElement("h1",null,"Loading..."),this.state.showChart&&r.a.createElement(k.a,{data:this.state.data}),this.state.showChart&&r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Simple"),r.a.createElement("th",null,"Complex")),this.state.tableData.map((function(e){return r.a.createElement("tr",{key:e.a},r.a.createElement("td",null,e.a),r.a.createElement("td",null,e.b))}))))))}}]),n}(a.Component),N=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currentPage:"login",showLoader:!1},e}return Object(l.a)(n,[{key:"showLoader",value:function(e){console.log(e),this.setState({showLoader:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"login"==this.state.currentPage&&r.a.createElement(E,{showLoader:function(t){e.showLoader(t)},onComplete:function(t,n){console.log("Hi"),n?e.setState({currentPage:"result",user:t}):e.setState({currentPage:"poll",user:t})}}),"poll"==this.state.currentPage&&r.a.createElement(y,{showLoader:function(t){e.showLoader(t)},user:this.state.user,onComplete:function(){e.setState({currentPage:"result"})}}),"result"==this.state.currentPage&&r.a.createElement(C,{showLoader:function(t){e.showLoader(t)},user:this.state.user}),this.state.showLoader&&r.a.createElement(j,null))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,n){e.exports=n(193)},90:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.89508aab.chunk.js.map